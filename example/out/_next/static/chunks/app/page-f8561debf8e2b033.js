(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5693:function(e,t,n){Promise.resolve().then(n.bind(n,3141))},3141:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return R}});var s=n(7437),r=n(2265),i=n(4887),a={en:{ASC:"ASC",DSC:"DSC",MC:"MC",IC:"IC",settings:"Settings",close:"Close",expand:"Expand",showSynastry:"Show Synastry (Two Charts)",showAspects:"Show Aspects",showDegrees:"Show Degrees",showHouses:"Show Houses",showChart2Houses:"Show Chart 2 Houses",showPlanetProjections:"Show Planet Projections",showChartInfo:"Show Chart Info Panel",includeAnglesInSynastry:"Include AC/MC in Synastry Aspects",aspectTypes:"Aspect Types",majorAspects:"Major Aspects",minorAspects:"Minor Aspects",theme:"Theme",language:"Language",light:"Light",dark:"Dark",english:"English",spanish:"Espa\xf1ol",conjunction:"Conjunction",opposition:"Opposition",trine:"Trine",square:"Square",sextile:"Sextile",quincunx:"Quincunx",semisextile:"Semisextile",semisquare:"Semisquare",sesquiquadrate:"Sesquiquadrate",quintile:"Quintile",biquintile:"Biquintile",chart1:"Chart 1",chart2:"Chart 2",innerChart:"Inner Chart",outerChart:"Outer Chart",desktop:"Desktop",tablet:"Tablet",mobile:"Mobile",legend:"Legend",aspectColors:"Aspect colors",showBirthData:"Show Birth Data on Chart",downloadImage:"Download Image",birthDate:"Date",birthTime:"Time",birthLocation:"Location"},es:{ASC:"ASC",DSC:"DSC",MC:"MC",IC:"IC",settings:"Configuraci\xf3n",close:"Cerrar",expand:"Expandir",showSynastry:"Mostrar Sinastr\xeda (Dos Cartas)",showAspects:"Mostrar Aspectos",showDegrees:"Mostrar Grados",showHouses:"Mostrar Casas",showChart2Houses:"Mostrar Casas de Carta 2",showPlanetProjections:"Mostrar Proyecciones Planetarias",showChartInfo:"Mostrar Panel de Info",includeAnglesInSynastry:"Incluir AC/MC en Aspectos de Sinastr\xeda",aspectTypes:"Tipos de Aspectos",majorAspects:"Aspectos Mayores",minorAspects:"Aspectos Menores",theme:"Tema",language:"Idioma",light:"Claro",dark:"Oscuro",english:"English",spanish:"Espa\xf1ol",conjunction:"Conjunci\xf3n",opposition:"Oposici\xf3n",trine:"Tr\xedgono",square:"Cuadratura",sextile:"Sextil",quincunx:"Quincuncio",semisextile:"Semisextil",semisquare:"Semicuadratura",sesquiquadrate:"Sesquicuadratura",quintile:"Quintil",biquintile:"Biquintil",chart1:"Carta 1",chart2:"Carta 2",innerChart:"Carta Interior",outerChart:"Carta Exterior",desktop:"Escritorio",tablet:"Tableta",mobile:"M\xf3vil",legend:"Leyenda",aspectColors:"Colores de aspectos",showBirthData:"Mostrar Datos de Nacimiento",downloadImage:"Descargar Imagen",birthDate:"Fecha",birthTime:"Hora",birthLocation:"Lugar"}};function o(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"en";return a[e]}var l={Aries:"♈",Taurus:"♉",Gemini:"♊",Cancer:"♋",Leo:"♌",Virgo:"♍",Libra:"♎",Scorpio:"♏",Sagittarius:"♐",Capricorn:"♑",Aquarius:"♒",Pisces:"♓"},c={Sun:"☉",Moon:"☽",Mercury:"☿",Venus:"♀",Mars:"♂",Jupiter:"♃",Saturn:"♄",Uranus:"♅",Neptune:"♆",Pluto:"⯓",NorthNode:"☊",SouthNode:"☋",Chiron:"⚷",Lilith:"⚸",Ascendant:"AC",Midheaven:"MC"},d={Aries:0,Taurus:30,Gemini:60,Cancer:90,Leo:120,Virgo:150,Libra:180,Scorpio:210,Sagittarius:240,Capricorn:270,Aquarius:300,Pisces:330},u=["Aries","Taurus","Gemini","Cancer","Leo","Virgo","Libra","Scorpio","Sagittarius","Capricorn","Aquarius","Pisces"],h={fire:"#e63946",earth:"#588157",air:"#457b9d",water:"#5a9fd4"},p={Aries:"fire",Taurus:"earth",Gemini:"air",Cancer:"water",Leo:"fire",Virgo:"earth",Libra:"air",Scorpio:"water",Sagittarius:"fire",Capricorn:"earth",Aquarius:"air",Pisces:"water"},x={conjunction:"#ffcc00",opposition:"#ff0000",trine:"#00cc00",square:"#cc0000",sextile:"#0066cc",quincunx:"#9933cc",semisextile:"#66cc99",semisquare:"#cc6666",sesquiquadrate:"#cc9966",quintile:"#cc66cc",biquintile:"#66cccc"},m={conjunction:{strokeWidth:2},opposition:{strokeWidth:2},trine:{strokeWidth:1.5},square:{strokeWidth:1.5},sextile:{strokeWidth:1},quincunx:{dashArray:"5,3",strokeWidth:1},semisextile:{dashArray:"3,3",strokeWidth:.75},semisquare:{dashArray:"4,2",strokeWidth:.75},sesquiquadrate:{dashArray:"4,2",strokeWidth:.75},quintile:{dashArray:"2,2",strokeWidth:.75},biquintile:{dashArray:"2,2",strokeWidth:.75}};function g(e){let t=e%360;return t<0&&(t+=360),t}function y(e,t){return g(e-(null!=t?t:0)+180)}function f(e,t,n,s){let r=s*Math.PI/180;return{x:e+n*Math.cos(r),y:t-n*Math.sin(r)}}function j(e){var t,n;return t=e.sign,n=e.degree,d[t]+n}function b(e){let{centerX:t,centerY:n,outerRadius:r,innerRadius:i,ascendantDegree:a=0,theme:o="light"}=e,c=(r+i)/2,d="dark"===o,x=d?"#555":"#333",m=d?"#777":"#666",g=d?"#666":"#999";return(0,s.jsxs)("g",{className:"zodiac-wheel",children:[(0,s.jsx)("circle",{cx:t,cy:n,r:r,fill:"none",stroke:x,strokeWidth:1}),(0,s.jsx)("circle",{cx:t,cy:n,r:i,fill:"none",stroke:x,strokeWidth:1}),u.map((e,o)=>{let u=30*o,x=y(u,a),g=y(u+30,a),j=f(t,n,r,x),b=f(t,n,r,g),C=f(t,n,i,x),S=f(t,n,i,g),v=f(t,n,c,y(u+15,a)),k=p[e],w=h[k],A="\n          M ".concat(j.x," ").concat(j.y,"\n          A ").concat(r," ").concat(r," 0 0 0 ").concat(b.x," ").concat(b.y,"\n          L ").concat(S.x," ").concat(S.y,"\n          A ").concat(i," ").concat(i," 0 0 1 ").concat(C.x," ").concat(C.y,"\n          Z\n        ");return(0,s.jsxs)("g",{className:"sign-segment sign-".concat(e.toLowerCase()),children:[(0,s.jsx)("path",{d:A,fill:d?w+"40":w+"30",stroke:m,strokeWidth:.5}),(0,s.jsxs)("text",{x:v.x,y:v.y,textAnchor:"middle",dominantBaseline:"central",fontSize:.08*r,fill:h[k],fontWeight:"bold",style:{fontFamily:"Segoe UI Symbol, Symbola, sans-serif"},children:[l[e],"︎"]})]},e)}),Array.from({length:72},(e,o)=>{let l=5*o,c=y(l,a),d=l%30==0,u=d?(r-i)*.5:(r-i)*.2,h=f(t,n,i,c),p=f(t,n,i-u,c);return(0,s.jsx)("line",{x1:h.x,y1:h.y,x2:p.x,y2:p.y,stroke:g,strokeWidth:d?1:.5},"marker-".concat(l))})]})}var C={1:"ASC",4:"IC",7:"DSC",10:"MC"};function S(e){let{centerX:t,centerY:n,outerRadius:r,innerRadius:i,houses:a,ascendantDegree:o=0,isSecondChart:l=!1,color:c,theme:u="light"}=e,h=[...a].sort((e,t)=>e.house-t.house),p="dark"===u,x=l?c||"#d94a4a":p?"#ddd":"#000",m=l?c||"#d94a4a":p?"#bbb":"#555",g=p?"#fff":"#000",j=p?"#666":"#999";return(0,s.jsx)("g",{className:"house-wheel ".concat(l?"house-wheel-second":""),children:h.map((e,a)=>{var c,u,p,b;let S=(c=e.sign,u=e.degree,d[c]+u),v=y(S,o),k=f(t,n,r,v),w=f(t,n,i,v),A=h[(a+1)%12],D=(p=A.sign,b=A.degree,d[p]+b),q=(S+D)/2;D<S&&(q=(S+D+360)/2%360);let M=f(t,n,.7*i,y(q,o)),I=[1,4,7,10].includes(e.house),z=C[e.house],W=f(t,n,1.02*r,v);return(0,s.jsxs)("g",{className:"house-division house-".concat(e.house),children:[(0,s.jsx)("line",{x1:k.x,y1:k.y,x2:w.x,y2:w.y,stroke:l?x:I?x:j,strokeWidth:I?l?1.5:2:.5,strokeDasharray:l?"4,2":I?void 0:"2,2",opacity:l?.7:1}),(0,s.jsx)("text",{x:M.x,y:M.y,textAnchor:"middle",dominantBaseline:"central",fontSize:.055*r,fill:m,fontWeight:I?"bold":"normal",children:e.house}),!l&&z&&(0,s.jsx)("text",{x:W.x,y:W.y,textAnchor:"middle",dominantBaseline:"central",fontSize:.06*r,fill:g,fontWeight:"bold",children:z}),l&&0===a&&(0,s.jsx)("circle",{cx:t,cy:n,r:i,fill:"none",stroke:x,strokeWidth:.5,opacity:.5})]},"house-".concat(e.house).concat(l?"-second":""))})})}function v(e){let{centerX:t,centerY:n,radius:r,planets:i,ascendantDegree:a=0,color:o="#4a90d9",showDegrees:l=!1,isOuter:d=!1,theme:u="light"}=e,h=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:8;if(0===e.length)return[];if(1===e.length)return[{...e[0],offset:0}];let n=e.map((e,t)=>({...e,offset:0,displayDegree:e.absoluteDegree}));n.sort((e,t)=>e.absoluteDegree-t.absoluteDegree);for(let e=0;e<50;e++){let e=!1;n.forEach(e=>{e.displayDegree=g(e.absoluteDegree+e.offset)});let s=[...n].sort((e,t)=>e.displayDegree-t.displayDegree);for(let n=0;n<s.length;n++){let r=s[n],i=s[(n+1)%s.length],a=i.displayDegree-r.displayDegree;if(a<0&&(a+=360),a<t&&a>0){e=!0;let n=(t-a)/2+.5;r.offset-=n,i.offset+=n}}if(!e)break;n.forEach(e=>{e.offset*=.95})}return n.forEach(e=>{e.offset=Math.max(-25,Math.min(25,e.offset))}),n}(i.map(e=>({planet:e,absoluteDegree:j(e)}))),p=d?1.08*r:.88*r,x=d?1*r:.95*r,m=d?1.18*r:.78*r;return(0,s.jsx)("g",{className:"planets ".concat(d?"outer-planets":"inner-planets"),children:h.map(e=>{let{planet:i,absoluteDegree:d,offset:u}=e,h=f(t,n,x,y(d,a)),g=y(d+u,a),j=f(t,n,p,g),b=f(t,n,m,g),C=c[i.planet],S="Ascendant"===i.planet||"Midheaven"===i.planet,v=S?.09*r:.14*r;return(0,s.jsxs)("g",{className:"planet planet-".concat(i.planet.toLowerCase()),"data-degree":d,"data-actual-x":h.x,"data-actual-y":h.y,children:[Math.abs(u)>2&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("circle",{cx:h.x,cy:h.y,r:2,fill:o,opacity:.6}),(0,s.jsx)("line",{x1:h.x,y1:h.y,x2:j.x,y2:j.y,stroke:o,strokeWidth:.75,strokeDasharray:"3,2",opacity:.5})]}),(0,s.jsxs)("text",{x:j.x,y:j.y,textAnchor:"middle",dominantBaseline:"central",fontSize:v,fill:o,fontWeight:S?"bold":"normal",style:{fontFamily:"Segoe UI Symbol, Symbola, sans-serif"},children:[C,"︎",i.retrograde&&(0,s.jsx)("tspan",{fontSize:.5*v,dy:-(.3*v),children:"℞"})]}),l&&(0,s.jsx)("text",{x:b.x,y:b.y,textAnchor:"middle",dominantBaseline:"central",fontSize:.35*v,fill:o,opacity:.8,children:function(e){let t=Math.floor(e);return"".concat(t,"\xb0").concat(Math.round((e-t)*60).toString().padStart(2,"0"),"'")}(i.degree)})]},i.planet)})})}var k=["Ascendant","Midheaven"];function w(e,t,n){return"opposition"===n&&("NorthNode"===e&&"SouthNode"===t||"SouthNode"===e&&"NorthNode"===t)}function A(e){let{centerX:t,centerY:n,radius:r,aspects:i=[],synastryAspects:a=[],planets:o,secondChartPlanets:l=[],ascendantDegree:c=0,aspectColors:d={},includeAnglesInSynastry:u=!1}=e,h={...x,...d},p=.7*r,g=i.filter(e=>!w(e.planet1,e.planet2,e.aspect)).filter(e=>u||!k.includes(e.planet1)&&!k.includes(e.planet2)),b=a.filter(e=>!w(e.planet1,e.planet2,e.aspect)).filter(e=>u||!k.includes(e.planet1)&&!k.includes(e.planet2)),C=function(e){let s=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=(s?l:o).find(t=>t.planet===e);return r?f(t,n,p,y(j(r),c)):null};return(0,s.jsxs)("g",{className:"aspect-lines",children:[g.map((e,t)=>{let n=C(e.planet1),r=C(e.planet2);if(!n||!r)return null;let i=h[e.aspect],a=m[e.aspect],o=Math.max(.3,1-e.orb/10);return(0,s.jsx)("line",{x1:n.x,y1:n.y,x2:r.x,y2:r.y,stroke:i,strokeWidth:a.strokeWidth,strokeDasharray:a.dashArray,opacity:o,className:"aspect-line aspect-".concat(e.aspect)},"natal-".concat(t,"-").concat(e.planet1,"-").concat(e.planet2))}),b.map((e,t)=>{let n="chart2"===e.chart1Owner,r="chart2"===e.chart2Owner,i=C(e.planet1,n),a=C(e.planet2,r);if(!i||!a)return null;let o=h[e.aspect],l=m[e.aspect],c=Math.max(.3,1-e.orb/10);return(0,s.jsx)("line",{x1:i.x,y1:i.y,x2:a.x,y2:a.y,stroke:o,strokeWidth:1.2*l.strokeWidth,strokeDasharray:l.dashArray,opacity:c,className:"aspect-line synastry-aspect aspect-".concat(e.aspect)},"synastry-".concat(t,"-").concat(e.planet1,"-").concat(e.planet2))})]})}function D(e){let{centerX:t,centerY:n,outerRadius:r,innerRadius:i,planets:a,secondChartPlanets:o,ascendantDegree:l=0,innerChartColor:c="#4a90d9",outerChartColor:u="#d94a4a"}=e,h=(r-i)*.3,p=a.filter(e=>"Ascendant"!==e.planet&&"Midheaven"!==e.planet),x=null==o?void 0:o.filter(e=>"Ascendant"!==e.planet&&"Midheaven"!==e.planet),m=(e,r,a,o)=>{var c,u;let p=y((c=e.sign,u=e.degree,d[c]+u),l),x=f(t,n,i,p),m=f(t,n,i+h,p);return(0,s.jsx)("line",{x1:x.x,y1:x.y,x2:m.x,y2:m.y,stroke:r,strokeWidth:2,opacity:.8},o)};return(0,s.jsxs)("g",{className:"planet-projections",children:[p.map((e,t)=>m(e,c,!1,"proj-1-".concat(t))),null==x?void 0:x.map((e,t)=>m(e,u,!0,"proj-2-".concat(t)))]})}function q(e){let{chart:t,secondChart:n,synastryAspects:i,size:a=500,showAspects:o=!0,showDegrees:l=!1,showHouses:c=!0,showSecondChartHouses:u=!1,showPlanetProjections:h=!0,aspectTypesFilter:p,includeAnglesInSynastry:x=!1,innerChartColor:m="#4a90d9",outerChartColor:g="#d94a4a",aspectColors:y,theme:f="light",className:j}=e,C=a/2,k=a/2,w="dark"===f,q={background:w?"#1a1a2e":"#fafafa",backgroundStroke:w?"#333":"#ddd",centerFill:w?"#16162a":"#fff",centerStroke:w?"#444":"#ccc"},M=!!n,I=u&&M&&n,z=.45*a,W=.38*a,E=I?.3*a:.15*a,P=I?.3*a:.15*a,N=I?.22*a:.15*a,L=I?.26*a:.32*a,B=I?.12*a:.15*a,T=(0,r.useMemo)(()=>{var e,n,s,r;let i=t.planets.find(e=>"Ascendant"===e.planet);if(i)return e=i.sign,n=i.degree,d[e]+n;let a=t.houses.find(e=>1===e.house);return a?(s=a.sign,r=a.degree,d[s]+r):0},[t.planets,t.houses]),H=(0,r.useMemo)(()=>p&&0!==p.length?t.aspects.filter(e=>p.includes(e.aspect)):t.aspects,[t.aspects,p]),R=(0,r.useMemo)(()=>{if(i)return p&&0!==p.length?i.filter(e=>p.includes(e.aspect)):i},[i,p]);return(0,s.jsxs)("svg",{width:a,height:a,viewBox:"0 0 ".concat(a," ").concat(a),className:j,style:{fontFamily:"Arial, sans-serif",maxWidth:"100%",height:"auto",display:"block",overflow:"visible",contain:"layout style"},preserveAspectRatio:"xMidYMid meet",children:[(0,s.jsx)("circle",{cx:C,cy:k,r:z+5,fill:q.background,stroke:q.backgroundStroke,strokeWidth:1}),(0,s.jsx)("circle",{cx:C,cy:k,r:B,fill:q.centerFill,stroke:q.centerStroke,strokeWidth:.5}),(0,s.jsx)(b,{centerX:C,centerY:k,outerRadius:z,innerRadius:W,ascendantDegree:T,theme:f}),h&&(0,s.jsx)(D,{centerX:C,centerY:k,outerRadius:z,innerRadius:W,planets:t.planets,secondChartPlanets:null==n?void 0:n.planets,ascendantDegree:T,innerChartColor:m,outerChartColor:g}),c&&t.houses.length>0&&(0,s.jsx)(S,{centerX:C,centerY:k,outerRadius:W,innerRadius:E,houses:t.houses,ascendantDegree:T,theme:f}),u&&I&&n.houses.length>0&&(0,s.jsx)(S,{centerX:C,centerY:k,outerRadius:P,innerRadius:N,houses:n.houses,ascendantDegree:T,isSecondChart:!0,color:g,theme:f}),o&&(0,s.jsx)(A,{centerX:C,centerY:k,radius:L,aspects:H,synastryAspects:R,planets:t.planets,secondChartPlanets:null==n?void 0:n.planets,ascendantDegree:T,aspectColors:y,includeAnglesInSynastry:x}),(0,s.jsx)(v,{centerX:C,centerY:k,radius:L,planets:t.planets,ascendantDegree:T,color:m,showDegrees:l,isOuter:!1,theme:f}),M&&n&&(0,s.jsx)(v,{centerX:C,centerY:k,radius:L,planets:n.planets,ascendantDegree:T,color:g,showDegrees:l,isOuter:!0,theme:f})]})}var M={en:{Sun:"Sun",Moon:"Moon",Mercury:"Mercury",Venus:"Venus",Mars:"Mars",Jupiter:"Jupiter",Saturn:"Saturn",Uranus:"Uranus",Neptune:"Neptune",Pluto:"Pluto",NorthNode:"Node",SouthNode:"S.Node",Chiron:"Chiron",Lilith:"Lilith",Ascendant:"ASC",Midheaven:"MC"},es:{Sun:"Sol",Moon:"Luna",Mercury:"Mercurio",Venus:"Venus",Mars:"Marte",Jupiter:"J\xfapiter",Saturn:"Saturno",Uranus:"Urano",Neptune:"Neptuno",Pluto:"Plut\xf3n",NorthNode:"Nodo",SouthNode:"Nodo S.",Chiron:"Quir\xf3n",Lilith:"Lilith",Ascendant:"ASC",Midheaven:"MC"}};function I(e){let{chart:t,secondChart:n,theme:i="light",language:a="en",showHouses:o=!0,showElements:d=!0,className:u}=e,h="dark"===i,p=!!n,x="#4a90d9",m="#d94a4a",g=["Sun","Moon","Mercury","Venus","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto","NorthNode","Lilith","Chiron"],y=e=>[...e].filter(e=>g.includes(e.planet)).sort((e,t)=>g.indexOf(e.planet)-g.indexOf(t.planet)),f=(0,r.useMemo)(()=>y(t.planets),[t.planets]),j=(0,r.useMemo)(()=>n?y(n.planets):[],[n]),b=e=>{let t=Math.floor(e);return"".concat(t,"\xb0").concat(Math.round((e-t)*60).toString().padStart(2,"0"),"'")},C=e=>M[a][e]||e,S={fontFamily:"Segoe UI Symbol, Symbola, sans-serif",fontSize:"16px"},v={padding:"0.3rem 0.25rem",borderBottom:h?"1px solid #333":"1px solid #eee",whiteSpace:"nowrap"},k=(e,t)=>e?(0,s.jsxs)("span",{style:{color:t},children:[(0,s.jsx)("span",{style:S,children:l[e.sign]})," ",b(e.degree),e.retrograde&&(0,s.jsx)("span",{style:{fontSize:"10px",marginLeft:"2px",color:h?"#ff6b6b":"#c00"},children:"ℜ"})]}):null,w=(0,r.useMemo)(()=>[...t.houses].sort((e,t)=>e.house-t.house),[t.houses]),A=(0,r.useMemo)(()=>n?[...n.houses].sort((e,t)=>e.house-t.house):[],[n]),D=e=>1===e?"ASC":4===e?"IC":7===e?"DSC":10===e?"MC":"";return(0,s.jsxs)("div",{style:{backgroundColor:h?"#1a1a2e":"#fff",color:h?"#e0e0e0":"#333",padding:"1rem",borderRadius:"8px",border:h?"1px solid #333":"1px solid #ddd",fontSize:"14px",fontFamily:"system-ui, sans-serif",maxWidth:p?"420px":"320px"},className:u,children:[p&&(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"flex-end",gap:"2rem",marginBottom:"0.5rem",paddingBottom:"0.5rem",borderBottom:h?"1px solid #444":"1px solid #ddd"},children:[(0,s.jsx)("div",{style:{color:x,fontWeight:"bold",fontSize:"13px",minWidth:"90px",textAlign:"center"},children:t.label||("es"===a?"Persona A":"Person A")}),(0,s.jsx)("div",{style:{color:m,fontWeight:"bold",fontSize:"13px",minWidth:"90px",textAlign:"center"},children:(null==n?void 0:n.label)||("es"===a?"Persona B":"Person B")})]}),(0,s.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,s.jsx)("tbody",{children:g.map(e=>{let t=f.find(t=>t.planet===e),n=j.find(t=>t.planet===e);return t||n?(0,s.jsxs)("tr",{children:[(0,s.jsx)("td",{style:{...v,...S,color:h?"#888":"#666",width:"24px"},children:c[e]}),(0,s.jsx)("td",{style:{...v,fontWeight:500,minWidth:"70px"},children:C(e)}),(0,s.jsx)("td",{style:{...v,minWidth:"90px"},children:k(t,p?x:h?"#e0e0e0":"#333")}),p&&(0,s.jsx)("td",{style:{...v,minWidth:"90px"},children:k(n,m)})]},e):null})})}),o&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{fontWeight:"bold",fontSize:"14px",marginBottom:"0.5rem",marginTop:"0.75rem",color:h?"#fff":"#333"},children:["es"===a?"Casas:":"Houses:"," (Placidus)"]}),(0,s.jsx)("table",{style:{width:"100%",borderCollapse:"collapse"},children:(0,s.jsx)("tbody",{children:[1,4,7,10].map(e=>{let t=w.find(t=>t.house===e),n=A.find(t=>t.house===e),r=D(e);return(0,s.jsxs)("tr",{children:[(0,s.jsxs)("td",{style:{...v,fontWeight:"bold",width:"40px"},children:[r,":"]}),(0,s.jsx)("td",{style:{...v,color:p?x:h?"#e0e0e0":"#333"},children:t&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:S,children:l[t.sign]})," ",b(t.degree)]})}),p&&(0,s.jsx)("td",{style:{...v,color:m},children:n&&(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("span",{style:S,children:l[n.sign]})," ",b(n.degree)]})})]},e)})})})]}),d&&!p&&(0,s.jsx)(z,{chart:t,language:a,isDark:h})]})}function z(e){let{chart:t,language:n,isDark:i}=e,a=(0,r.useMemo)(()=>{let e={fire:0,earth:0,air:0,water:0},n=["Sun","Moon","Mercury","Venus","Mars","Jupiter","Saturn","Uranus","Neptune","Pluto"];return t.planets.forEach(t=>{if(n.includes(t.planet)){let n=p[t.sign];n&&void 0!==e[n]&&e[n]++}}),e},[t.planets]),o={fire:"\uD83D\uDD25",earth:"\uD83C\uDF0D",air:"\uD83D\uDCA8",water:"\uD83D\uDCA7"},l={fire:"es"===n?"Fuego":"Fire",earth:"es"===n?"Tierra":"Earth",air:"es"===n?"Aire":"Air",water:"es"===n?"Agua":"Water"};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)("div",{style:{fontWeight:"bold",fontSize:"14px",marginBottom:"0.5rem",marginTop:"0.75rem",color:i?"#fff":"#333"},children:"es"===n?"Elementos":"Elements"}),(0,s.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"0.5rem"},children:Object.entries(a).map(e=>{let[t,n]=e;return(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:"0.5rem"},children:[(0,s.jsxs)("span",{children:[n,"x"]}),(0,s.jsx)("span",{children:o[t]}),(0,s.jsx)("span",{children:l[t]})]},t)})})]})}var W=["conjunction","opposition","trine","square","sextile","quincunx","semisextile","semisquare","sesquiquadrate","quintile","biquintile"],E=["conjunction","opposition","trine","square","sextile"];function P(e){let{chart:t,secondChart:n,synastryAspects:a,size:l=500,showAspects:c=!0,showDegrees:d=!1,showHouses:u=!0,showSecondChartHouses:h=!0,showPlanetProjections:p=!0,showChartInfo:x=!1,showBirthData:m=!1,aspectTypesFilter:g,includeAnglesInSynastry:y=!1,innerChartColor:f="#4a90d9",outerChartColor:j="#d94a4a",aspectColors:b,theme:C="light",language:S="en",className:v,showExpandButton:k=!0,title:w,birthData:A,secondBirthData:D,onSettingsChange:M}=e,z=(0,r.useRef)(null),P=(0,r.useRef)(null),N=(0,r.useRef)(0),[L,B]=(0,r.useState)(!1),[T,H]=(0,r.useState)({width:600,height:600}),[R,F]=(0,r.useState)(!1);(0,r.useEffect)(()=>(F(!0),()=>F(!1)),[]),(0,r.useEffect)(()=>{if(!R)return;let e=()=>{let e=window.innerWidth,t=window.innerHeight;B(e<=600),H({width:e,height:t})};return e(),window.addEventListener("resize",e),window.addEventListener("orientationchange",e),()=>{window.removeEventListener("resize",e),window.removeEventListener("orientationchange",e)}},[R]);let[O,U]=(0,r.useState)(!1),[V,J]=(0,r.useState)(!1);(0,r.useEffect)(()=>{if(R&&O){N.current=window.scrollY;let e=document.createElement("div");e.id="astromandala-modal-portal",document.body.appendChild(e),z.current=e;let t=document.createElement("style");return t.id="astromandala-modal-styles",t.textContent="\n  .astromandala-modal-root,\n  .astromandala-modal-root *,\n  .astromandala-modal-root *::before,\n  .astromandala-modal-root *::after {\n    box-sizing: border-box !important;\n    margin: 0;\n    padding: 0;\n    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif !important;\n  }\n  .astromandala-modal-root {\n    position: fixed !important;\n    top: 0 !important;\n    left: 0 !important;\n    right: 0 !important;\n    bottom: 0 !important;\n    width: 100vw !important;\n    height: 100vh !important;\n    height: 100dvh !important;\n    z-index: 2147483647 !important;\n    isolation: isolate !important;\n  }\n  .astromandala-modal-root button {\n    font-family: inherit !important;\n    cursor: pointer !important;\n  }\n  .astromandala-modal-root select {\n    font-family: inherit !important;\n    cursor: pointer !important;\n  }\n  .astromandala-modal-root input[type=\"checkbox\"] {\n    cursor: pointer !important;\n    width: 16px !important;\n    height: 16px !important;\n  }\n  .astromandala-modal-root label {\n    cursor: pointer !important;\n  }\n  body.astromandala-modal-open {\n    overflow: hidden !important;\n    position: fixed !important;\n    width: 100% !important;\n    height: 100% !important;\n  }\n",document.head.appendChild(t),document.body.classList.add("astromandala-modal-open"),document.body.style.top="-".concat(N.current,"px"),H({width:window.innerWidth,height:window.innerHeight}),()=>{z.current&&document.body.contains(z.current)&&(document.body.removeChild(z.current),z.current=null);let e=document.getElementById("astromandala-modal-styles");e&&document.head.removeChild(e),document.body.classList.remove("astromandala-modal-open"),document.body.style.top="",window.scrollTo(0,N.current)}}},[O,R]),(0,r.useEffect)(()=>{if(!O||!R)return;let e=e=>{"Escape"===e.key&&(e.preventDefault(),e.stopPropagation(),U(!1))};return document.addEventListener("keydown",e,{capture:!0}),()=>{document.removeEventListener("keydown",e,{capture:!0})}},[O,R]),(0,r.useEffect)(()=>{O&&!L&&J(!0)},[O,L]);let[_,G]=(0,r.useState)(x),K=(0,r.useMemo)(()=>{if(!O)return 500;let e=T.width,t=T.height;if(L){let n=_?Math.min(.3*t,200):0;return Math.max(Math.min(e-24,t-45-n-24),250)}return Math.min(V?e-320:e-40,t-120)},[L,T,V,O,_]),[Q,Y]=(0,r.useState)(c),[Z,X]=(0,r.useState)(d),[$,ee]=(0,r.useState)(u),[et,en]=(0,r.useState)(h),[es,er]=(0,r.useState)(p),[ei,ea]=(0,r.useState)(m),[eo,el]=(0,r.useState)(y),[ec,ed]=(0,r.useState)(C),[eu,eh]=(0,r.useState)(S),ep=(0,r.useCallback)(async()=>{if(P.current)try{let e=P.current.querySelector("svg");if(!e)return;let t=e.cloneNode(!0),n=parseInt(e.getAttribute("width")||"500");if(ei&&A){let e=document.createElementNS("http://www.w3.org/2000/svg","g"),s="dark"===ec?"#e0e0e0":"#333",r=Math.max(10,.022*n),i=n+r+5,a=t=>{let a=document.createElementNS("http://www.w3.org/2000/svg","text");a.setAttribute("x",(n/2).toString()),a.setAttribute("y",i.toString()),a.setAttribute("text-anchor","middle"),a.setAttribute("fill",s),a.setAttribute("font-size",r.toString()),a.setAttribute("font-family","Arial, sans-serif"),a.textContent=t,e.appendChild(a),i+=r+4};A.name&&a(A.name),A.date&&a(A.date+(A.time?" - ".concat(A.time):"")),A.location&&a(A.location),D&&(i+=5,D.name&&a(D.name),D.date&&a(D.date+(D.time?" - ".concat(D.time):"")),D.location&&a(D.location));let o=i-n;t.setAttribute("height",(n+o).toString()),t.setAttribute("viewBox","0 0 ".concat(n," ").concat(n+o)),t.appendChild(e)}let s=new XMLSerializer().serializeToString(t),r=new Blob([s],{type:"image/svg+xml;charset=utf-8"}),i=URL.createObjectURL(r),a=new Image;a.onload=()=>{let e=document.createElement("canvas");e.width=2*a.width,e.height=2*a.height;let t=e.getContext("2d");if(!t)return;t.fillStyle="dark"===ec?"#1a1a2e":"#fafafa",t.fillRect(0,0,e.width,e.height),t.scale(2,2),t.drawImage(a,0,0);let n=document.createElement("a"),s=w?"".concat(w.replace(/[^a-zA-Z0-9]/g,"_"),".png"):(null==A?void 0:A.name)?"carta_".concat(A.name.replace(/[^a-zA-Z0-9]/g,"_"),".png"):"astromandala_chart.png";n.download=s,n.href=e.toDataURL("image/png"),n.click(),URL.revokeObjectURL(i)},a.src=i}catch(e){console.error("Error downloading chart:",e)}},[ei,A,D,ec,w]);(0,r.useEffect)(()=>{ed(C)},[C]),(0,r.useEffect)(()=>{eh(S)},[S]);let[ex,em]=(0,r.useState)(()=>{let e={};return W.forEach(t=>{e[t]=g?g.includes(t):E.includes(t)}),e}),eg=(0,r.useMemo)(()=>o(eu),[eu]),ey="dark"===ec,ef=!!n,ej=(0,r.useMemo)(()=>W.filter(e=>ex[e]),[ex]),eb=(0,r.useCallback)(e=>{em(t=>({...t,[e]:!t[e]}))},[]);(0,r.useCallback)(()=>{M&&M({showAspects:Q,showDegrees:Z,showHouses:$,showSecondChartHouses:et,showPlanetProjections:es,showChartInfo:_,showBirthData:ei,includeAnglesInSynastry:eo,aspectTypesFilter:ej,theme:ec,language:eu})},[Q,Z,$,et,es,_,ei,eo,ej,ec,eu,M]);let eC={padding:"0.5rem 0.75rem",borderRadius:"4px",border:"none",backgroundColor:ey?"rgba(255,255,255,0.15)":"rgba(0,0,0,0.08)",color:ey?"#fff":"#333",cursor:"pointer",fontSize:"14px",display:"flex",alignItems:"center",gap:"0.25rem"},eS={...eC,backgroundColor:ey?"rgba(255,255,255,0.25)":"rgba(255,255,255,0.85)",border:ey?"1px solid rgba(255,255,255,0.3)":"1px solid rgba(0,0,0,0.15)",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",position:"absolute",top:"0.5rem",right:"0.5rem",zIndex:10},ev={display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer",fontSize:"14px",padding:"0.25rem 0"},ek={marginBottom:"1rem",padding:"0.75rem",backgroundColor:ey?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.03)",borderRadius:"6px"},ew=O&&R&&z.current?(0,s.jsxs)("div",{className:"astromandala-modal-root",style:{backgroundColor:ey?"#121212":"#ffffff",display:"flex",flexDirection:"column",overflow:"hidden"},onClick:e=>e.stopPropagation(),children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:L?"0.25rem 0.5rem":"0.5rem 1rem",borderBottom:ey?"1px solid #333":"1px solid #ddd",backgroundColor:ey?"#1a1a1a":"#f5f5f5",flexShrink:0,minHeight:L?"40px":"48px",maxHeight:L?"40px":"48px",width:"100%",boxSizing:"border-box",overflow:"hidden"},children:[(0,s.jsxs)("div",{style:{display:"flex",alignItems:"center",gap:L?"0.25rem":"1rem",flexShrink:1,overflow:"hidden"},children:[w&&(0,s.jsx)("h1",{style:{margin:0,fontSize:L?"14px":"18px",fontWeight:600,color:ey?"#fff":"#333",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:L?"120px":"300px"},children:w}),(0,s.jsxs)("button",{onClick:()=>J(!V),style:{...eC,padding:L?"0.25rem 0.4rem":eC.padding,fontSize:L?"14px":eC.fontSize,minWidth:L?"auto":void 0},title:eg.settings,children:["⚙",L?"":" ".concat(V?"▼":"▶"," ").concat(eg.settings)]}),(0,s.jsxs)("select",{value:eu,onChange:e=>eh(e.target.value),style:{padding:L?"0.25rem":"0.5rem",borderRadius:"4px",border:ey?"1px solid #444":"1px solid #ccc",backgroundColor:ey?"#333":"#fff",color:ey?"#fff":"#333",cursor:"pointer",fontSize:"14px",minWidth:L?"auto":void 0},children:[(0,s.jsx)("option",{value:"en",children:L?"\uD83C\uDDEC\uD83C\uDDE7":"\uD83C\uDDEC\uD83C\uDDE7 English"}),(0,s.jsx)("option",{value:"es",children:L?"\uD83C\uDDEA\uD83C\uDDF8":"\uD83C\uDDEA\uD83C\uDDF8 Espa\xf1ol"})]}),(0,s.jsx)("button",{onClick:()=>ed("light"===ec?"dark":"light"),style:{...eC,padding:L?"0.25rem 0.4rem":eC.padding,fontSize:L?"14px":eC.fontSize,minWidth:L?"auto":void 0},children:ey?"☀️":"\uD83C\uDF19"}),(0,s.jsxs)("button",{onClick:ep,style:{...eC,padding:L?"0.25rem 0.4rem":eC.padding,fontSize:L?"14px":eC.fontSize,minWidth:L?"auto":void 0,backgroundColor:ey?"rgba(74, 144, 217, 0.3)":"rgba(74, 144, 217, 0.15)"},title:eg.downloadImage,children:["\uD83D\uDCE5",L?"":" ".concat(eg.downloadImage)]})]}),(0,s.jsx)("button",{onClick:()=>U(!1),style:{...eC,backgroundColor:ey?"#c53030":"#e53e3e",color:"#fff",padding:L?"0.25rem 0.5rem":eC.padding,fontSize:L?"14px":eC.fontSize,minWidth:L?"auto":void 0,flexShrink:0,marginLeft:L?"0.25rem":void 0},children:"✕"})]}),(0,s.jsxs)("div",{style:{flex:1,display:"flex",overflow:"hidden"},children:[V&&(0,s.jsxs)("div",{style:{width:"280px",minWidth:"280px",padding:"1rem",overflowY:"auto",borderRight:ey?"1px solid #333":"1px solid #ddd",backgroundColor:ey?"#1a1a1a":"#fafafa",color:ey?"#e0e0e0":"#333"},children:[(0,s.jsxs)("div",{style:ek,children:[(0,s.jsx)("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"13px",textTransform:"uppercase",opacity:.7},children:eg.settings}),(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:Q,onChange:e=>Y(e.target.checked)}),eg.showAspects]}),(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:Z,onChange:e=>X(e.target.checked)}),eg.showDegrees]}),(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:$,onChange:e=>ee(e.target.checked)}),eg.showHouses]}),ef&&(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:et,onChange:e=>en(e.target.checked)}),eg.showChart2Houses]}),(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:es,onChange:e=>er(e.target.checked)}),eg.showPlanetProjections]}),(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:_,onChange:e=>G(e.target.checked)}),eg.showChartInfo]}),(A||D)&&(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:ei,onChange:e=>ea(e.target.checked)}),eg.showBirthData]}),ef&&Q&&(0,s.jsxs)("label",{style:ev,children:[(0,s.jsx)("input",{type:"checkbox",checked:eo,onChange:e=>el(e.target.checked)}),eg.includeAnglesInSynastry]})]}),Q&&(0,s.jsxs)("div",{style:ek,children:[(0,s.jsx)("h4",{style:{margin:"0 0 0.5rem 0",fontSize:"13px",textTransform:"uppercase",opacity:.7},children:eg.aspectTypes}),(0,s.jsx)("div",{style:{marginBottom:"0.5rem"},children:(0,s.jsx)("span",{style:{fontSize:"12px",opacity:.6},children:eg.majorAspects})}),E.map(e=>(0,s.jsxs)("label",{style:{...ev,fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:ex[e],onChange:()=>eb(e)}),eg[e]]},e)),(0,s.jsx)("div",{style:{marginTop:"0.75rem",marginBottom:"0.5rem"},children:(0,s.jsx)("span",{style:{fontSize:"12px",opacity:.6},children:eg.minorAspects})}),W.filter(e=>!E.includes(e)).map(e=>(0,s.jsxs)("label",{style:{...ev,fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:ex[e],onChange:()=>eb(e)}),eg[e]]},e))]})]}),(0,s.jsxs)("div",{style:{flex:1,display:"flex",flexDirection:L?"column":"row",justifyContent:L?"flex-start":"center",alignItems:"center",padding:L?"0.5rem":"1rem",backgroundColor:ey?"#0d0d1a":"#f0f0f0",overflow:"hidden",boxSizing:"border-box",minHeight:0,gap:"0.5rem",width:"100%",maxWidth:"100%"},children:[(0,s.jsxs)("div",{ref:P,style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"0.5rem"},children:[(0,s.jsx)("div",{style:{width:K,height:K,maxWidth:"100%",maxHeight:"100%",display:"flex",justifyContent:"center",alignItems:"center",flexShrink:1},children:(0,r.createElement)(q,{chart:t,secondChart:n,synastryAspects:a,showAspects:Q,showDegrees:Z,showHouses:$,showSecondChartHouses:et,showPlanetProjections:es,aspectTypesFilter:ej,includeAnglesInSynastry:eo,innerChartColor:f,outerChartColor:j,aspectColors:b,theme:ec,language:eu,size:K,key:"modal-mandala-".concat(K,"-").concat(_)})}),ei&&(A||D)&&(0,s.jsxs)("div",{style:{textAlign:"center",color:ey?"#e0e0e0":"#333",fontSize:L?"11px":"13px",lineHeight:1.4,maxWidth:K,padding:"0.5rem"},children:[A&&(0,s.jsxs)("div",{style:{marginBottom:D?"0.5rem":0,color:f},children:[A.name&&(0,s.jsx)("div",{style:{fontWeight:600},children:A.name}),(A.date||A.time)&&(0,s.jsxs)("div",{children:[A.date,A.time?" - ".concat(A.time):""]}),A.location&&(0,s.jsx)("div",{children:A.location})]}),D&&(0,s.jsxs)("div",{style:{color:j},children:[D.name&&(0,s.jsx)("div",{style:{fontWeight:600},children:D.name}),(D.date||D.time)&&(0,s.jsxs)("div",{children:[D.date,D.time?" - ".concat(D.time):""]}),D.location&&(0,s.jsx)("div",{children:D.location})]})]})]}),_&&!L&&(0,s.jsx)("div",{style:{alignSelf:"center",maxHeight:.85*K,overflowY:"auto"},children:(0,s.jsx)(I,{chart:t,secondChart:n,theme:ec,language:eu})}),_&&L&&(0,s.jsx)("div",{style:{width:"100%",maxWidth:"100%",display:"flex",justifyContent:"center"},children:(0,s.jsx)(I,{chart:t,secondChart:n,theme:ec,language:eu})})]})]})]}):null;return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{style:{position:"relative",display:"inline-block"},className:v,children:[k&&(0,s.jsx)("button",{onClick:()=>U(!0),style:eS,title:eg.expand,children:"⛶"}),(0,s.jsx)(q,{chart:t,secondChart:n,synastryAspects:a,showAspects:c,showDegrees:d,showHouses:u,showSecondChartHouses:h,showPlanetProjections:p,aspectTypesFilter:g,includeAnglesInSynastry:y,innerChartColor:f,outerChartColor:j,aspectColors:b,theme:C,language:S,size:l})]}),ew&&z.current&&(0,i.createPortal)(ew,z.current)]})}var N=n(1717);let L={aries:"Aries",taurus:"Taurus",gemini:"Gemini",cancer:"Cancer",leo:"Leo",virgo:"Virgo",libra:"Libra",scorpio:"Scorpio",sagittarius:"Sagittarius",capricorn:"Capricorn",aquarius:"Aquarius",pisces:"Pisces"},B={sun:"Sun",moon:"Moon",mercury:"Mercury",venus:"Venus",mars:"Mars",jupiter:"Jupiter",saturn:"Saturn",uranus:"Uranus",neptune:"Neptune",pluto:"Pluto",chiron:"Chiron",sirius:"Lilith"},T={conjunction:"conjunction",opposition:"opposition",trine:"trine",square:"square",sextile:"sextile",quincunx:"quincunx",semisextile:"semisextile",semisquare:"semisquare",sesquiquadrate:"sesquiquadrate",quintile:"quintile",biquintile:"biquintile"};function H(e,t,n,s,r,i,a,o){var l,c,d,u,h,p,x,m,g,y,f,j,b,C,S;let v=new N.Origin({year:e,month:t-1,date:n,hour:s,minute:r,latitude:i,longitude:a}),k=new N.Horoscope({origin:v,houseSystem:"placidus",zodiac:"tropical",aspectPoints:["bodies","points","angles"],aspectWithPoints:["bodies","points","angles"],aspectTypes:["major","minor"],customOrbs:{},language:"en"}),w=[];if(k.CelestialBodies)for(let e of k.CelestialBodies.all){let t=B[e.key];t&&e.Sign&&w.push({planet:t,sign:L[e.Sign.key]||"Aries",degree:(null===(c=e.ChartPosition)||void 0===c?void 0:null===(l=c.Ecliptic)||void 0===l?void 0:l.DecimalDegrees)%30||0,retrograde:e.isRetrograde||!1})}if(k.Ascendant&&w.push({planet:"Ascendant",sign:L[null===(d=k.Ascendant.Sign)||void 0===d?void 0:d.key]||"Aries",degree:(null===(h=k.Ascendant.ChartPosition)||void 0===h?void 0:null===(u=h.Ecliptic)||void 0===u?void 0:u.DecimalDegrees)%30||0}),k.Midheaven&&w.push({planet:"Midheaven",sign:L[null===(p=k.Midheaven.Sign)||void 0===p?void 0:p.key]||"Aries",degree:(null===(m=k.Midheaven.ChartPosition)||void 0===m?void 0:null===(x=m.Ecliptic)||void 0===x?void 0:x.DecimalDegrees)%30||0}),k.CelestialPoints){let e=k.CelestialPoints.all.find(e=>"northnode"===e.key);e&&e.Sign&&w.push({planet:"NorthNode",sign:L[e.Sign.key]||"Aries",degree:(null===(y=e.ChartPosition)||void 0===y?void 0:null===(g=y.Ecliptic)||void 0===g?void 0:g.DecimalDegrees)%30||0});let t=k.CelestialPoints.all.find(e=>"southnode"===e.key);t&&t.Sign&&w.push({planet:"SouthNode",sign:L[t.Sign.key]||"Aries",degree:(null===(j=t.ChartPosition)||void 0===j?void 0:null===(f=j.Ecliptic)||void 0===f?void 0:f.DecimalDegrees)%30||0})}let A=[];if(k.Houses)for(let e=0;e<k.Houses.length;e++){let t=k.Houses[e];t&&t.Sign&&A.push({house:e+1,sign:L[t.Sign.key]||"Aries",degree:(null===(S=t.ChartPosition)||void 0===S?void 0:null===(C=S.StartPosition)||void 0===C?void 0:null===(b=C.Ecliptic)||void 0===b?void 0:b.DecimalDegrees)%30||0})}let D=[];if(k.Aspects&&k.Aspects.all)for(let e of k.Aspects.all){let t=B[e.point1Key]||("ascendant"===e.point1Key?"Ascendant":null)||("midheaven"===e.point1Key?"Midheaven":null),n=B[e.point2Key]||("ascendant"===e.point2Key?"Ascendant":null)||("midheaven"===e.point2Key?"Midheaven":null),s=T[e.aspectKey];t&&n&&s&&D.push({planet1:t,planet2:n,aspect:s,orb:Math.abs(e.orb)||0})}return{label:o,planets:w,houses:A,aspects:D}}function R(){let[e,t]=(0,r.useState)("1984-08-16"),[n,i]=(0,r.useState)("18:15"),[a,l]=(0,r.useState)("-34.6037"),[c,d]=(0,r.useState)("-58.3816"),[u,h]=(0,r.useState)("Person A"),[p,x]=(0,r.useState)("Buenos Aires, Argentina"),[m,g]=(0,r.useState)("1997-08-07"),[y,f]=(0,r.useState)("09:30"),[j,b]=(0,r.useState)("-34.6037"),[C,S]=(0,r.useState)("-58.3816"),[v,k]=(0,r.useState)("Person B"),[w,A]=(0,r.useState)("Buenos Aires, Argentina"),[D,M]=(0,r.useState)("Carta Natal"),[I,z]=(0,r.useState)(!0),[W,E]=(0,r.useState)(!1),[N,L]=(0,r.useState)(!0),[B,T]=(0,r.useState)(!1),[R,F]=(0,r.useState)(!0),[O,U]=(0,r.useState)(!0),[V,J]=(0,r.useState)(!0),[_,G]=(0,r.useState)(!1),[K,Q]=(0,r.useState)(!1),[Y,Z]=(0,r.useState)("light"),[X,$]=(0,r.useState)("es"),ee=(0,r.useMemo)(()=>o(X),[X]);(0,r.useEffect)(()=>{Z(window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light")},[]);let[et,en]=(0,r.useState)({conjunction:!0,opposition:!0,trine:!0,square:!0,sextile:!0,quincunx:!1,semisextile:!1,semisquare:!1,sesquiquadrate:!1,quintile:!1,biquintile:!1}),es=e=>{en(t=>({...t,[e]:!t[e]}))},er=(0,r.useMemo)(()=>Object.entries(et).filter(e=>{let[t,n]=e;return n}).map(e=>{let[t]=e;return t}),[et]),ei=(0,r.useMemo)(()=>{let[t,s,r]=e.split("-").map(Number),[i,o]=n.split(":").map(Number);return H(t,s,r,i,o,parseFloat(a),parseFloat(c),u)},[e,n,a,c,u]),ea=(0,r.useMemo)(()=>{let[e,t,n]=m.split("-").map(Number),[s,r]=y.split(":").map(Number);return H(e,t,n,s,r,parseFloat(j),parseFloat(C),v)},[m,y,j,C,v]),eo=(0,r.useMemo)(()=>{if(W)return function(e,t){let n=[],s={conjunction:0,opposition:180,trine:120,square:90,sextile:60,quincunx:150,semisextile:30,semisquare:45,sesquiquadrate:135,quintile:72,biquintile:144},r={conjunction:8,opposition:8,trine:8,square:7,sextile:6,quincunx:3,semisextile:2,semisquare:2,sesquiquadrate:2,quintile:2,biquintile:2},i={Aries:0,Taurus:30,Gemini:60,Cancer:90,Leo:120,Virgo:150,Libra:180,Scorpio:210,Sagittarius:240,Capricorn:270,Aquarius:300,Pisces:330},a=(e,t)=>i[e]+t;for(let i of e.planets)for(let e of t.planets){let t=Math.abs(a(i.sign,i.degree)-a(e.sign,e.degree));for(let[a,o]of(t>180&&(t=360-t),Object.entries(s))){let s=Math.abs(t-o);if(s<=r[a]){n.push({planet1:i.planet,chart1Owner:"chart1",planet2:e.planet,chart2Owner:"chart2",aspect:a,orb:s});break}}}return n}(ei,ea)},[ei,ea,W]),el="dark"===Y,ec={padding:"0.5rem",borderRadius:"4px",border:el?"1px solid #444":"1px solid #ccc",fontSize:"14px",backgroundColor:el?"#2a2a2a":"#fff",color:el?"#e0e0e0":"#333"},ed={display:"flex",flexDirection:"column",gap:"0.25rem",fontSize:"14px"};return(0,s.jsxs)("main",{style:{padding:"1rem",fontFamily:"system-ui, sans-serif",maxWidth:"1200px",margin:"0 auto",backgroundColor:el?"#121212":"#fff",color:el?"#e0e0e0":"#333",minHeight:"100vh"},children:[(0,s.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"1.5rem",flexWrap:"wrap",gap:"1rem"},children:[(0,s.jsx)("h1",{style:{margin:0},children:"Astromandala Test"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.5rem",alignItems:"center"},children:[(0,s.jsxs)("select",{value:X,onChange:e=>$(e.target.value),style:{padding:"0.5rem",borderRadius:"4px",border:el?"1px solid #444":"1px solid #ccc",backgroundColor:el?"#333":"#fff",color:el?"#fff":"#333",cursor:"pointer",fontSize:"14px"},children:[(0,s.jsx)("option",{value:"en",children:"\uD83C\uDDEC\uD83C\uDDE7 English"}),(0,s.jsx)("option",{value:"es",children:"\uD83C\uDDEA\uD83C\uDDF8 Espa\xf1ol"})]}),(0,s.jsx)("button",{onClick:()=>Z("light"===Y?"dark":"light"),style:{padding:"0.5rem 1rem",borderRadius:"4px",border:"none",backgroundColor:el?"#333":"#eee",color:el?"#fff":"#333",cursor:"pointer",fontSize:"14px"},children:el?"☀️":"\uD83C\uDF19"})]})]}),(0,s.jsx)("div",{style:{marginBottom:"1.5rem"},children:(0,s.jsxs)("label",{style:{...ed,display:"block",maxWidth:"400px"},children:["Chart Title",(0,s.jsx)("input",{type:"text",value:D,onChange:e=>M(e.target.value),style:ec,placeholder:"e.g., Synastry Chart - John & Jane"})]})}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:W?"1fr 1fr":"1fr",gap:"2rem",marginBottom:"1.5rem"},children:[(0,s.jsxs)("div",{style:{padding:"1rem",background:el?"#1e3a4d":"#e8f4fc",borderRadius:"8px"},children:[(0,s.jsx)("h3",{style:{marginBottom:"1rem",color:"#4a90d9"},children:"Chart 1 (Inner)"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[(0,s.jsxs)("label",{style:ed,children:["Name",(0,s.jsx)("input",{type:"text",value:u,onChange:e=>h(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Date",(0,s.jsx)("input",{type:"date",value:e,onChange:e=>t(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Time",(0,s.jsx)("input",{type:"time",value:n,onChange:e=>i(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Location",(0,s.jsx)("input",{type:"text",value:p,onChange:e=>x(e.target.value),style:ec,placeholder:"City, Country"})]}),(0,s.jsxs)("label",{style:ed,children:["Latitude",(0,s.jsx)("input",{type:"number",step:"0.0001",value:a,onChange:e=>l(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Longitude",(0,s.jsx)("input",{type:"number",step:"0.0001",value:c,onChange:e=>d(e.target.value),style:ec})]})]})]}),W&&(0,s.jsxs)("div",{style:{padding:"1rem",background:el?"#4d1e1e":"#fce8e8",borderRadius:"8px"},children:[(0,s.jsx)("h3",{style:{marginBottom:"1rem",color:"#d94a4a"},children:"Chart 2 (Outer)"}),(0,s.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1rem"},children:[(0,s.jsxs)("label",{style:ed,children:["Name",(0,s.jsx)("input",{type:"text",value:v,onChange:e=>k(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Date",(0,s.jsx)("input",{type:"date",value:m,onChange:e=>g(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Time",(0,s.jsx)("input",{type:"time",value:y,onChange:e=>f(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Location",(0,s.jsx)("input",{type:"text",value:w,onChange:e=>A(e.target.value),style:ec,placeholder:"City, Country"})]}),(0,s.jsxs)("label",{style:ed,children:["Latitude",(0,s.jsx)("input",{type:"number",step:"0.0001",value:j,onChange:e=>b(e.target.value),style:ec})]}),(0,s.jsxs)("label",{style:ed,children:["Longitude",(0,s.jsx)("input",{type:"number",step:"0.0001",value:C,onChange:e=>S(e.target.value),style:ec})]})]})]})]}),(0,s.jsxs)("div",{style:{marginBottom:"1.5rem",display:"flex",gap:"1.5rem",flexWrap:"wrap"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:W,onChange:e=>E(e.target.checked)}),"Show Synastry (Two Charts)"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:N,onChange:e=>L(e.target.checked)}),"Show Aspects"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:B,onChange:e=>T(e.target.checked)}),"Show Degrees"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:R,onChange:e=>F(e.target.checked)}),"Show Houses"]}),W&&(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:O,onChange:e=>U(e.target.checked)}),"Show Chart 2 Houses"]}),W&&N&&(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:K,onChange:e=>Q(e.target.checked)}),"Include AC/MC in Synastry Aspects"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:V,onChange:e=>J(e.target.checked)}),"Show Planet Projections"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.5rem",cursor:"pointer"},children:[(0,s.jsx)("input",{type:"checkbox",checked:_,onChange:e=>G(e.target.checked)}),"Show Chart Info Panel"]})]}),N&&(0,s.jsxs)("div",{style:{marginBottom:"1.5rem",padding:"1rem",background:el?"#1a1a1a":"#f9f9f9",borderRadius:"8px"},children:[(0,s.jsx)("h4",{style:{marginBottom:"0.75rem",fontSize:"14px",color:el?"#aaa":"#555"},children:"Aspect Types:"}),(0,s.jsxs)("div",{style:{display:"flex",gap:"1rem",flexWrap:"wrap"},children:[(0,s.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap"},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.conjunction,onChange:()=>es("conjunction")}),(0,s.jsx)("span",{style:{color:"#ffcc00"},children:"☌"})," Conjunction"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.opposition,onChange:()=>es("opposition")}),(0,s.jsx)("span",{style:{color:"#ff0000"},children:"☍"})," Opposition"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.trine,onChange:()=>es("trine")}),(0,s.jsx)("span",{style:{color:"#00cc00"},children:"△"})," Trine"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.square,onChange:()=>es("square")}),(0,s.jsx)("span",{style:{color:"#cc0000"},children:"□"})," Square"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.sextile,onChange:()=>es("sextile")}),(0,s.jsx)("span",{style:{color:"#0066cc"},children:"✶"})," Sextile"]})]}),(0,s.jsxs)("div",{style:{display:"flex",gap:"0.75rem",flexWrap:"wrap",opacity:.8},children:[(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.quincunx,onChange:()=>es("quincunx")}),"Quincunx"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.semisextile,onChange:()=>es("semisextile")}),"Semisextile"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.semisquare,onChange:()=>es("semisquare")}),"Semisquare"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.sesquiquadrate,onChange:()=>es("sesquiquadrate")}),"Sesquiquadrate"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.quintile,onChange:()=>es("quintile")}),"Quintile"]}),(0,s.jsxs)("label",{style:{display:"flex",alignItems:"center",gap:"0.3rem",cursor:"pointer",fontSize:"13px"},children:[(0,s.jsx)("input",{type:"checkbox",checked:et.biquintile,onChange:()=>es("biquintile")}),"Biquintile"]})]})]})]}),(0,s.jsxs)("div",{style:{display:"flex",flexDirection:"column",gap:"2rem"},children:[(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{style:{marginBottom:"0.5rem",fontSize:"14px",color:el?"#aaa":"#666"},children:[ee.desktop," (650px) - AstroMandalaWithModal"]}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",background:el?"#1a1a2e":"#f5f5f5",padding:"1rem",borderRadius:"8px",overflow:"hidden"},children:(0,s.jsx)(P,{chart:ei,secondChart:W?ea:void 0,synastryAspects:eo,size:650,showAspects:N,showDegrees:B,showHouses:R,showSecondChartHouses:O,showPlanetProjections:V,showChartInfo:_,aspectTypesFilter:er,includeAnglesInSynastry:K,innerChartColor:"#4a90d9",outerChartColor:"#d94a4a",theme:Y,language:X,title:W?"Sinastr\xeda":D,birthData:{name:u,date:new Date(e).toLocaleDateString("es"===X?"es-ES":"en-US",{year:"numeric",month:"long",day:"numeric"}),time:n,location:p},secondBirthData:W?{name:v,date:new Date(m).toLocaleDateString("es"===X?"es-ES":"en-US",{year:"numeric",month:"long",day:"numeric"}),time:y,location:w}:void 0,showBirthData:I})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{style:{marginBottom:"0.5rem",fontSize:"14px",color:el?"#aaa":"#666"},children:[ee.tablet," (450px)"]}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",background:el?"#1a1a2e":"#f5f5f5",padding:"1rem",borderRadius:"8px",overflow:"hidden"},children:(0,s.jsx)(q,{chart:ei,secondChart:W?ea:void 0,synastryAspects:eo,size:450,showAspects:N,showDegrees:B,showHouses:R,showSecondChartHouses:O,showPlanetProjections:V,aspectTypesFilter:er,includeAnglesInSynastry:K,innerChartColor:"#4a90d9",outerChartColor:"#d94a4a",theme:Y})})]}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("h3",{style:{marginBottom:"0.5rem",fontSize:"14px",color:el?"#aaa":"#666"},children:[ee.mobile," (320px)"]}),(0,s.jsx)("div",{style:{display:"flex",justifyContent:"center",background:el?"#1a1a2e":"#f5f5f5",padding:"0.5rem",borderRadius:"8px",overflow:"hidden",maxWidth:"340px"},children:(0,s.jsx)(q,{chart:ei,secondChart:W?ea:void 0,synastryAspects:eo,size:320,showAspects:N,showDegrees:B,showHouses:R,showSecondChartHouses:O,showPlanetProjections:V,aspectTypesFilter:er,includeAnglesInSynastry:K,innerChartColor:"#4a90d9",outerChartColor:"#d94a4a",theme:Y})})]})]}),(0,s.jsxs)("div",{style:{marginTop:"1.5rem",fontSize:"0.9rem",color:el?"#aaa":"#666"},children:[(0,s.jsxs)("h3",{children:[ee.legend,":"]}),(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{style:{color:"#4a90d9"},children:"● Blue"})," = ",u," (",ee.innerChart,")"]}),W&&(0,s.jsxs)("p",{children:[(0,s.jsx)("span",{style:{color:"#d94a4a"},children:"● Red"})," = ",v," (",ee.outerChart,")"]}),(0,s.jsxs)("p",{style:{marginTop:"0.5rem"},children:[ee.aspectColors,":",(0,s.jsxs)("span",{style:{color:"#00cc00"},children:[" ▲ ",ee.trine]}),",",(0,s.jsxs)("span",{style:{color:"#cc0000"},children:[" ■ ",ee.square]}),",",(0,s.jsxs)("span",{style:{color:"#0066cc"},children:[" ✶ ",ee.sextile]}),",",(0,s.jsxs)("span",{style:{color:"#ff0000"},children:[" ⊖ ",ee.opposition]}),",",(0,s.jsxs)("span",{style:{color:"#ffcc00"},children:[" ☌ ",ee.conjunction]})]})]}),(0,s.jsxs)("details",{style:{marginTop:"2rem"},children:[(0,s.jsx)("summary",{style:{cursor:"pointer",color:el?"#888":"#666"},children:"Debug: Chart Data"}),(0,s.jsx)("pre",{style:{background:el?"#1a1a1a":"#f0f0f0",padding:"1rem",borderRadius:"4px",fontSize:"12px",overflow:"auto",color:el?"#ccc":"#333"},children:JSON.stringify({chart1:ei,chart2:W?ea:void 0,synastryAspects:eo},null,2)})]})]})}}},function(e){e.O(0,[773,971,117,744],function(){return e(e.s=5693)}),_N_E=e.O()}]);